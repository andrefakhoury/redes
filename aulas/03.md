<!-- Aula 3 -->

# Camada de aplicação

- Hospedeiros finais
  - Computadores, celulares...

- Só na borda, não no núcleo
- Aplicações:
  - browser, e-mail, web, jogos, ...

- Arquitetura de aplicação
  - forma como a aplicação de rede é desenhada
  - cliente-servidor (ambos bem definidos)
  - p2p (peer to peer) (uma hora o cliente pode trocar pra servidor e tals)
  - híbrido p2p e cliente-servidor

- Diferente de arquitetura de redes
  - ex de arquitetura de redes: em camadas, monolítica

## Arquitetura Cliente-Servidor

- Servidor
  - executado em um hospedeiro
  - endereço IP permanente - servidor é fixo

- Clientes:
  - Inicia a sessão com o servidor
  - Pode ser móvel com endereço dinâmico

## Arquitetura P2P

- Gerenciamento complexo
- Nem sempre no servidor
- Todos oferecem serviços
- BitTorrent, Skype, blockchain

## Arquiteturas híbridas

- Os dois

## Porta de saída das aplicações: sockets

- Analogia: processo é a casa e socket a porta
- dentro do pc tem varios processos, entao tem que usar a porta
- Numero da porta: HTTP = 80, SMTP = 25

## Protocolos da Camada de Aplicação

### Domínio público

- Interoperabilidade
- Ex: HTTP, SMTP

### Proprietários

- Ex: Skype

## Quais serviços uma aplicação necessita

- Tolera perdas?
  - sim: audio
  - nao: transferencia de arquivos, conteudo em geral

- Temporização (aplicações exigem baixos atrasos)?
  - ex: telefonia via internet, jogos
  - outras sao elasticas

## Web e HTTP

- Web consiste de objetos
- URL: hospedeiro -> caminho

## HTTP

- Modelo cliente/servidor
- cliente: browser; servidor: envia objetos
- Padroes (1.0, 1.1, 2.0, ...)

### Tipos 

- Nao persistente
  - objeto é enviado sobre uma conexão TCP (um objeto de cada vez)
  - HTTP 1.0

- Persistente
  - múltiplos objetos
  - TCP entre cliente e servidor
  - HTTP 1.1, 2.0 (esse inclusive prevê futuros requests)
  - Dois tipos:
    - sem paralelismo: novas requisições apenas quando a anterior for recebida
    - com paralelismo: envia requisições assim que encontra um objeto referenciado

### Tipos de Mensagens HTTP

- Request (GET)

- Response (404, ...)

### Cookies

- Servidores HTTP não possuem controle de estado
- Uso de cookies permite que o usuário seja monitorado
- Autorização, recomendações, ... - **monitora o usuário**
- Porém, problemas com privacidade

### Caches WEB
- Providas a partir do proxy
  - ficam entre o servidor local e fazem a interface com o servidor de origem
- Então, se tem alguma coisa frequentemente acessada, fica salva no proxy - cache
- **GET condicional**
